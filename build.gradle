plugins {
  id "org.podval.docbook-gradle-plugin" version "0.2.2"
}

repositories {
  jcenter()
}

apply plugin: 'base'

docBook {
  documentName = "book"

  outputFormats = ["html", "pdf", "epub2"]

  xslParameters = [
    "title.font.family"    : "sans-serif",
    "body.font.master"     : "14"
  ]
}

build.dependsOn processDocBook
build.doLast {
  project.sync {
    from "$buildDir/docBook/"
    into 'docs/book'
  }
}

apply plugin: 'idea'

idea {
  project {
    jdkName = '1.8'
    vcs = 'Git'
  }

  module {
    excludeDirs += [
      file('.idea'),
      file('gradle')
    ]
  }
}
